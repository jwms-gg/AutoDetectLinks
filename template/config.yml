#---------------------------------------------------#
## æ„Ÿè°¢ï¼šhttps://github.com/Hackl0us/SS-Rule-Snippet
#---------------------------------------------------#

# HTTP ä»£ç†ç«¯å£
#port: 7890

# SOCKS5 ä»£ç†ç«¯å£
#socks-port: 7891

# Linux å’Œ macOS çš„ redir ä»£ç†ç«¯å£
#redir-port: 7892

mixed-port: 7890

ipv6: true

# å…è®¸å±€åŸŸç½‘çš„è¿æ¥
allow-lan: false

# è§„åˆ™æ¨¡å¼ï¼šRuleï¼ˆè§„åˆ™ï¼‰ / Globalï¼ˆå…¨å±€ä»£ç†ï¼‰/ Directï¼ˆå…¨å±€ç›´è¿ï¼‰
mode: rule

# è®¾ç½®æ—¥å¿—è¾“å‡ºçº§åˆ« (é»˜è®¤çº§åˆ«ï¼šsilentï¼Œå³ä¸è¾“å‡ºä»»ä½•å†…å®¹ï¼Œä»¥é¿å…å› æ—¥å¿—å†…å®¹è¿‡å¤§è€Œå¯¼è‡´ç¨‹åºå†…å­˜æº¢å‡ºï¼‰ã€‚
# 5 ä¸ªçº§åˆ«ï¼šsilent / error / warning / info / debugã€‚çº§åˆ«è¶Šé«˜æ—¥å¿—è¾“å‡ºé‡è¶Šå¤§ï¼Œè¶Šå€¾å‘äºè°ƒè¯•ï¼Œè‹¥éœ€è¦è¯·è‡ªè¡Œå¼€å¯ã€‚
log-level: warning
# Clash çš„ RESTful API
external-controller: 0.0.0.0:9090

# geodata-mode: true
# geox-url:
#   geoip: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
#   geosite: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
#   mmdb: "https://fastly.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"
#   # asn: "https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb"

dns:
  enable: true
  ipv6: false
  listen: :1053
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  default-nameserver:
    - 223.5.5.5
    - 223.6.6.6
    - 1.1.1.1
    - 8.8.8.8
  nameserver:
    - https://223.5.5.5/dns-query
    - https://223.6.6.6/dns-query
  fallback:
    - tls://1.1.1.1
    - tls://1.0.0.1
    - tls://8.8.8.8
    - https://8.8.8.8/dns-query
    - https://1.1.1.1/dns-query
  fallback-filter:
    geoip: true
    geoip-code: CN
    ipcidr:
      - 240.0.0.0/4
    domain: # direct to fallback
      - +.google.com
      - +.facebook.com
      - +.youtube.com
  fake-ip-filter:
    - +.*
    - '*.lan'
    - '*.localdomain'
    - '*.example'
    - '*.invalid'
    - '*.localhost'
    - '*.test'
    - '*.local'
    - '*.home.arpa'
    - time.*.com
    - time.*.gov
    - time.*.edu.cn
    - time.*.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - '*.time.edu.cn'
    - '*.ntp.org.cn'
    - +.pool.ntp.org
    - time1.cloud.tencent.com
    - music.163.com
    - '*.music.163.com'
    - '*.126.net'
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - '*.kuwo.cn'
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - '*.y.qq.com'
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - '*.xiami.com'
    - '*.music.migu.cn'
    - music.migu.cn
    - +.msftconnecttest.com
    - +.msftncsi.com
    - msftconnecttest.com
    - msftncsi.com
    - localhost.ptlogin2.qq.com
    - localhost.sec.qq.com
    - +.srv.nintendo.net
    - +.stun.playstation.net
    - xbox.*.microsoft.com
    - xnotify.xboxlive.com
    - +.ipv6.microsoft.com
    - '*.microsoft.com'
    - '*.visualstudio.com'
    - ghcr.io
    - +.battlenet.com.cn
    - +.wotgame.cn
    - +.wggames.cn
    - +.wowsgame.cn
    - +.wargaming.net
    - proxy.golang.org
    - stun.*.*
    - stun.*.*.*
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*
    - heartbeat.belkin.com
    - '*.linksys.com'
    - '*.linksyssmartwifi.com'
    - '*.router.asus.com'
    - '*.vscode-cdn.net'
    - mesu.apple.com
    - swscan.apple.com
    - swquery.apple.com
    - swdownload.apple.com
    - swcdn.apple.com
    - swdist.apple.com
    - lens.l.google.com
    - stun.l.google.com
    - '*.square-enix.com'
    - '*.finalfantasyxiv.com'
    - '*.ffxiv.com'
    - '*.ff14.sdo.com'
    - ff.dorado.sdo.com
    - '*.mcdn.bilivideo.cn'
    - +.media.dssott.com
    - +.pvp.net
    - +.oray.com
    - +.orayimg.com
    - +.oray.net
    - +.todesk.com
    - v4.plex.tv
    - plex.direct
  nameserver-policy:
    geosite:cn,private:
      - https://223.5.5.5/dns-query
      - https://223.6.6.6/dns-query

global-client-fingerprint: chrome
tcp-concurrent: true
unified-delay: true

proxies: []

proxy-groups:
  - name: ğŸš€ é€‰æ‹©ä»£ç†
    type: select
    proxies:
      - â™»ï¸ è‡ªåŠ¨é€‰æ‹©
      - ğŸ”° å»¶è¿Ÿæœ€ä½
      - âœ… æ‰‹åŠ¨é€‰æ‹©
      - ğŸ—ºï¸ é€‰æ‹©åœ°åŒº

  - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 300
    proxies: []

  - name: ğŸ”° å»¶è¿Ÿæœ€ä½
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 20
    proxies: []

  - name: âœ… æ‰‹åŠ¨é€‰æ‹©
    type: select
    proxies: []

  - name: ğŸŒ çªç ´é”åŒº
    type: select
    proxies:
      - DIRECT
      - ğŸš€ é€‰æ‹©ä»£ç†

  - name: â“ ç–‘ä¼¼å›½å†…
    type: select
    proxies:
      - DIRECT
      - ğŸš€ é€‰æ‹©ä»£ç†
      - REJECT

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸš€ é€‰æ‹©ä»£ç†
      - DIRECT

  - name: ğŸš¨ ç—…æ¯’ç½‘ç«™
    type: select
    proxies:
      - REJECT
      - DIRECT

  - name: â›” å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - DIRECT
      - ğŸš€ é€‰æ‹©ä»£ç†

  - name: ğŸ—ºï¸ é€‰æ‹©åœ°åŒº
    type: select
    proxies: []

rules:
  - RULE-SET,applications,DIRECT
  - RULE-SET,private,DIRECT
  - RULE-SET,reject,REJECT
  - RULE-SET,antiad,REJECT
  - RULE-SET,dnsblocklists-multi-pro,REJECT
  - RULE-SET,icloud,DIRECT
  - RULE-SET,apple,DIRECT
  - RULE-SET,google,ğŸš€ é€‰æ‹©ä»£ç†
  - RULE-SET,proxy,ğŸš€ é€‰æ‹©ä»£ç†
  - RULE-SET,direct,DIRECT
  - RULE-SET,lancidr,DIRECT,no-resolve
  - RULE-SET,cncidr,DIRECT,no-resolve
  - RULE-SET,telegramcidr,ğŸš€ é€‰æ‹©ä»£ç†,no-resolve
  - GEOIP,LAN,DIRECT,no-resolve

  # æœ€ç»ˆè§„åˆ™
  - GEOIP,CN,â“ ç–‘ä¼¼å›½å†…
  # - DOMAIN-SUFFIX,gvt1.com,ğŸŸ æ¼ç½‘ä¹‹é±¼
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

rule-providers:
  reject:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/reject.txt
    path: ./ruleset/loyalsoldier/reject.yaml
    interval: 86400
  icloud:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/icloud.txt
    path: ./ruleset/loyalsoldier/icloud.yaml
    interval: 86400
  apple:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/apple.txt
    path: ./ruleset/loyalsoldier/apple.yaml
    interval: 86400
  google:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/google.txt
    path: ./ruleset/loyalsoldier/google.yaml
    interval: 86400
  proxy:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/proxy.txt
    path: ./ruleset/loyalsoldier/proxy.yaml
    interval: 86400
  direct:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/direct.txt
    path: ./ruleset/loyalsoldier/direct.yaml
    interval: 86400
  private:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/private.txt
    path: ./ruleset/loyalsoldier/private.yaml
    interval: 86400
  gfw:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/gfw.txt
    path: ./ruleset/loyalsoldier/gfw.yaml
    interval: 86400
  tld-not-cn:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/tld-not-cn.txt
    path: ./ruleset/loyalsoldier/tld-not-cn.yaml
    interval: 86400
  telegramcidr:
    type: http
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/telegramcidr.txt
    path: ./ruleset/loyalsoldier/telegramcidr.yaml
    interval: 86400
  cncidr:
    type: http
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/cncidr.txt
    path: ./ruleset/loyalsoldier/cncidr.yaml
    interval: 86400
  lancidr:
    type: http
    behavior: ipcidr
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/lancidr.txt
    path: ./ruleset/loyalsoldier/lancidr.yaml
    interval: 86400
  applications:
    type: http
    behavior: classical
    url: https://fastly.jsdelivr.net/gh/Loyalsoldier/clash-rules@release/applications.txt
    path: ./ruleset/loyalsoldier/applications.yaml
    interval: 86400
  antiad:
    type: http
    behavior: domain
    url: https://fastly.jsdelivr.net/gh/privacy-protection-tools/anti-AD@master/anti-ad-clash.yaml
    interval: 86400
  dnsblocklists-multi-pro:
    behavior: domain
    interval: 86400
    type: http
    format: text
    url: https://fastly.jsdelivr.net/gh/hagezi/dns-blocklists@main/wildcard/pro.txt
